<!DOCTYPE html>

<html>
<head>
<title> ascii world </title>

<link rel="stylesheet" type="text/css" href="main.css" >
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >

<script lang="javascript">

 var line0 = "+-------------------------------------------------+"
 var line1 = "|                                                 |"


 function init() {
   var e = document.getElementById('line0');
   e.innerHTML = line0;
   for (i = 1; i < 39; i++) {
     e = document.getElementById('line' + i);
     e.innerHTML = line1.replace(/ /g,'&nbsp'); //' ', '&nbsp');
   }

     e = document.getElementById('line39');
     e.innerHTML = line0;

 }

function kpress(event) {
 if (event.which == null)
   char = String.fromCharCode(event.keyCode);
 else if (event.which != 0 && event.charCode != 0)
   char = String.fromCharCode(event.which);
 else {
   // default action.
   return true;
 }

 console.log("you pressed: " + char)
 var e = document.getElementById('a');
  if (char == ' ') char = '&nbsp'
  e.innerHTML = char;

//  periodicallyRerender();

 return true;
}

function kup(event) {
 console.log(event)
}

function kdown(event) {
   console.log(event)
}

window.onkeypress = kpress;
window.onkeyup = kup;
window.onkeydown = kdown;

window.onload = init;

</script>


</head>

<body class="page" onload="init()">

<div>
hello
<span id="a">a</span><span id="b">b</span><span id="c">c</span>
</div>


<div id="line0">.</div>
<div id="line1">.</div>
<div id="line2">.</div>
<div id="line3">.</div>
<div id="line4">.</div>
<div id="line5">.</div>
<div id="line6">.</div>
<div id="line7">.</div>
<div id="line8">.</div>
<div id="line9">.</div>
<div id="line10">.</div>
<div id="line11">.</div>
<div id="line12">.</div>
<div id="line13">.</div>
<div id="line14">.</div>
<div id="line15">.</div>
<div id="line16">.</div>
<div id="line17">.</div>
<div id="line18">.</div>
<div id="line19">.</div>
<div id="line20">.</div>
<div id="line21">.</div>
<div id="line22">.</div>
<div id="line23">.</div>
<div id="line24">.</div>
<div id="line25">.</div>
<div id="line26">.</div>
<div id="line27">.</div>
<div id="line28">.</div>
<div id="line29">.</div>
<div id="line30">.</div>
<div id="line31">.</div>
<div id="line32">.</div>
<div id="line33">.</div>
<div id="line34">.</div>
<div id="line35">.</div>
<div id="line36">.</div>
<div id="line37">.</div>
<div id="line38">.</div>
<div id="line39">.</div>

</body>

</html>
